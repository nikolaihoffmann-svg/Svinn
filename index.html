<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EkstraVerdi</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="title-block">
        <div class="logo-row">
          <h1 id="app-title">EkstraVerdi</h1>
          <img src="pig-icon.PNG" alt="" class="brand-pig" />
        </div>
        <p id="app-subtitle">-Gj√∏r det du ikke trenger, om til ekstra penger</p>
      </div>
      <div class="header-actions">
        <button id="theme-toggle" class="icon-btn" aria-label="Bytt tema">üåô</button>
        <button id="login-btn" class="pill-btn pill-small">Logg inn</button>
      </div>
    </header>

    <main class="app-main">
      <!-- Admin-nav (skjules for gjester via JS) -->
      <nav id="admin-nav" class="admin-nav hidden">
        <button data-view="market" class="nav-pill nav-pill-active">Salgsside</button>
        <button data-view="list" class="nav-pill">Liste (admin)</button>
        <button data-view="overview" class="nav-pill">Oversikt</button>
        <button data-view="requests" class="nav-pill">Foresp√∏rsler</button>
      </nav>

      <!-- S√∏k -->
      <section class="search-section" id="search-section">
        <input
          id="search-input"
          type="search"
          placeholder="S√∏k etter tittel, kategori, lagerplass‚Ä¶"
        />
      </section>

      <!-- Faner (til salgs / solgt / alle) -->
      <section class="tabs-section">
        <button class="tab-pill tab-active" data-filter="sale">Til salgs</button>
        <button class="tab-pill" data-filter="sold">Solgt</button>
        <button class="tab-pill" data-filter="all">Alle</button>
      </section>

      <!-- Kategori-knapper (genereres dynamisk) -->
      <section id="category-bar" class="category-bar"></section>

      <!-- Views -->
      <section id="market-view" class="view active-view">
        <div id="items-container" class="cards-list"></div>
      </section>

      <section id="list-view" class="view">
        <div id="admin-items-container" class="cards-list"></div>
      </section>

      <section id="overview-view" class="view">
        <div class="overview-card">
          <h2>Oversikt</h2>
          <p><span class="label">Antall varer til salgs:</span> <span id="count-onsale">0</span></p>
          <p><span class="label">Antall solgte varer:</span> <span id="count-sold">0</span></p>
          <p><span class="label">Ordrereserve (hvis alt selges):</span> <span id="sum-reserve">0 kr</span></p>
          <p><span class="label">Totalt tjent p√• salg:</span> <span id="sum-sold">0 kr</span></p>
        </div>
      </section>

      <section id="requests-view" class="view">
        <h2>Foresp√∏rsler</h2>
        <div id="requests-container" class="cards-list"></div>
      </section>
    </main>

    <!-- Flytende +-knapp (kun admin via JS) -->
    <button id="fab-add" class="fab hidden">+</button>
  </div>

  <!-- Modal: Logg inn -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <h2>Logg inn (admin)</h2>
      <label>
        E-post
        <input id="login-email" type="email" autocomplete="email" />
      </label>
      <label>
        Passord
        <input id="login-password" type="password" autocomplete="current-password" />
      </label>
      <div class="modal-actions">
        <button id="login-cancel" class="pill-btn pill-ghost">Avbryt</button>
        <button id="login-submit" class="pill-btn">Logg inn</button>
      </div>
    </div>
  </div>

  <!-- Modal: Ny / rediger vare -->
  <div id="item-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-scroll">
      <h2 id="item-modal-title">Ny ting</h2>
      <label>
        Tittel
        <input id="item-title" type="text" />
      </label>
      <label>
        Pris (kr)
        <input id="item-price" type="number" inputmode="numeric" />
      </label>
      <label>
        Kategori
        <input id="item-category" type="text" placeholder="Bil, Verkt√∏y, Elektronikk‚Ä¶" />
      </label>
      <label>
        Lagerplass
        <input id="item-location" type="text" placeholder="Garasjen, Loftet, Bod‚Ä¶" />
      </label>
      <label>
        Beskrivelse
        <textarea id="item-description" rows="3"></textarea>
      </label>
      <label>
        Bilder
        <input id="item-images" type="file" accept="image/*" multiple />
        <small>F√∏rste bilde blir hovedbildet. Du kan velge flere.</small>
      </label>
      <div id="item-images-preview" class="image-preview hidden"></div>

      <label class="checkbox-row">
        <input id="item-mark-sold" type="checkbox" />
        <span>Marker som solgt</span>
      </label>

      <div class="modal-actions">
        <button id="item-delete" class="pill-btn pill-danger pill-left hidden">Slett</button>
        <div class="modal-actions-right">
          <button id="item-cancel" class="pill-btn pill-ghost">Avbryt</button>
          <button id="item-save" class="pill-btn">Lagre</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Detaljer + foresp√∏rsel -->
  <div id="details-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-scroll">
      <div id="details-content"></div>
      <hr />
      <h3>Send foresp√∏rsel p√• varen</h3>
      <label>
        Navn
        <input id="req-name" type="text" />
      </label>
      <label>
        E-post
        <input id="req-email" type="email" />
      </label>
      <label>
        Telefon
        <input id="req-phone" type="tel" />
      </label>
      <label>
        Melding
        <textarea id="req-message" rows="3" placeholder="F.eks. bud, sp√∏rsm√•l osv."></textarea>
      </label>
      <div class="modal-actions">
        <button id="details-close" class="pill-btn pill-ghost">Lukk</button>
        <button id="req-send" class="pill-btn">Send foresp√∏rsel</button>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
